import { PrismaService } from '../../config/prisma.service';
import { ConfigService } from '@nestjs/config';
import { SystemUpdate } from '@prisma/client';
import { CreateSystemUpdateDto, UpdateSystemUpdateDto, SystemUpdateResponse } from '../dto/system-update.dto';
import { UpdateProgress } from '../interfaces/backup.interface';
import { BackupService } from './backup.service';
export declare class SystemUpdateService {
    private prisma;
    private configService;
    private backupService;
    private readonly logger;
    private readonly updateDir;
    private readonly maxConcurrentUpdates;
    private runningUpdates;
    constructor(prisma: PrismaService, configService: ConfigService, backupService: BackupService);
    private ensureUpdateDirectoryExists;
    createSystemUpdate(tenantId: number | null, createUpdateDto: CreateSystemUpdateDto): Promise<SystemUpdate>;
    updateSystemUpdate(updateId: string, updateUpdateDto: UpdateSystemUpdateDto): Promise<SystemUpdate>;
    getSystemUpdates(tenantId: number | null): Promise<SystemUpdate[]>;
    getSystemUpdate(updateId: string): Promise<SystemUpdateResponse>;
    rollbackSystemUpdate(updateId: string): Promise<SystemUpdate>;
    private performSystemUpdate;
    private downloadUpdatePackage;
    private validateUpdatePackage;
    private checkUpdateRequirements;
    private applyUpdate;
    private createPreUpdateBackup;
    private performRollback;
    private getCurrentVersion;
    private calculateFileChecksum;
    private checkDependencies;
    private extractPackage;
    private runUpdateScripts;
    private applyFileUpdates;
    private validateUpdateResult;
    private sendNotification;
    checkForUpdates(): Promise<void>;
    getUpdateProgress(updateId: string): UpdateProgress | null;
    getRunningUpdates(): UpdateProgress[];
}
